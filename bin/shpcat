#!/usr/bin/env node

var shp = require("../shp");

read(process.argv[2] || "/dev/stdin", function(error) {

});

function read(filename, callback) {
  var depth = 0;
  shp.read(filename)({
    geometryStart: function() { ++depth; process.stdout.write("."); },
    geometryEnd: function() { if (!--depth) callback(null); },
    bbox: function(x0, x1, y0, y1) {},
    polygonStart: function() {},
    polygonEnd: function() {},
    lineStart: function() {},
    lineEnd: function() {},
    point: function(x, y) {}
  });
}
