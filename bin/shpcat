#!/usr/bin/env node

var shp = require("../shp");

var depth = 0;

shp.read(process.argv[2] || "/dev/stdin")({
  geometryStart: function() { log("geometryStart"); ++depth; },
  geometryEnd: function() { --depth; log("geometryEnd"); },
  bbox: function(x0, x1, y0, y1) { log("bbox", x0, x1, y0, y1); },
  polygonStart: function() { log("polygonStart"); ++depth; },
  polygonEnd: function() { --depth; log("polygonEnd"); },
  lineStart: function() { log("lineStart"); ++depth; },
  lineEnd: function() { --depth; log("lineEnd"); },
  point: function(x, y) { log("point", x, y); }
});

function log(name) {
  name = new Array(depth + 1).join("  ") + name;
  console.log.apply(this, arguments);
}
